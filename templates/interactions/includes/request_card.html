{% load i18n %}
{% load request_tags %}

<div class="col-12 mb-3">
    <div class="card">
        <div class="card-body">
            <div class="d-flex justify-content-between align-items-start">
                <div class="flex-grow-1">
                    <h5 class="card-title">
                        <a href="{% url 'interactions:request_detail' request_obj.id %}" 
                           class="text-decoration-none">
                            {{ request_obj.title }}
                        </a>
                    </h5>
                    <p class="card-text text-muted">
                        {{ request_obj.content|truncatechars:content_truncate_length }}
                    </p>
                    <small class="text-muted">
                        <i class="bx bx-time me-1"></i>
                        {{ sent_at_text }}: {{ request_obj.created_at|date:date_format }}
                    </small>
                </div>
                <div class="flex-shrink-0 ms-3">
                    {{ request_obj|request_status_badge }}
                </div>
            </div>
            {% if request_obj.is_processed and request_obj.processed_at %}
                <div class="mt-2">
                    <small class="text-success">
                        <i class="bx bx-check-circle me-1"></i>
                        {% request_processed_info request_obj %}
                    </small>
                </div>
            {% endif %}
        </div>
    </div>
</div>
